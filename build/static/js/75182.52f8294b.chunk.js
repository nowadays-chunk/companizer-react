"use strict";(self.webpackChunktresorerie_management=self.webpackChunktresorerie_management||[]).push([[75182],{75182:(e,n,t)=>{t.r(n),t.d(n,{default:()=>u});var s=t(65043),a=t(96446),i=t(85865),r=t(11906),c=t(68903),o=t(12110),l=t(26494),d=t(43845),h=t(21256),p=t(15375),m=t(70579);const u=()=>{const{t:e}=(0,p.B)(),[n,t]=(0,s.useState)([]),[u]=(0,s.useState)((()=>(0,h.h4)("vendor_invoices")));(0,s.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e=(await u.fetchItems()).filter((e=>"ready_for_payment"===e.status||e.processing_step&&e.processing_step.includes("ready_for_payment")));t(e)}catch(e){console.error("Error loading invoices",e)}};return(0,m.jsxs)(a.A,{p:3,children:[(0,m.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[(0,m.jsx)(i.A,{variant:"h4",children:"Payment Run Manager"}),(0,m.jsx)(r.A,{variant:"contained",color:"secondary",onClick:()=>{alert("Payment Batch Feature Plan: This will group selected invoices into a single payment file (SEPA/ACH).")},children:"Create Payment Batch"})]}),(0,m.jsx)(c.Ay,{container:!0,spacing:3,children:0===n.length?(0,m.jsx)(i.A,{variant:"body1",sx:{p:2},children:"No invoices ready for payment."}):n.map((e=>(0,m.jsx)(c.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,m.jsx)(o.A,{children:(0,m.jsxs)(l.A,{children:[(0,m.jsxs)(a.A,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,m.jsx)(i.A,{variant:"h6",children:e.invoice_number}),(0,m.jsx)(d.A,{label:e.processing_step,color:"primary",size:"small"})]}),(0,m.jsxs)(i.A,{color:"textSecondary",children:["Amount: ",e.total_amount," ",e.currency]}),(0,m.jsxs)(i.A,{color:"textSecondary",children:["Due: ",e.due_date]}),(0,m.jsx)(a.A,{mt:2,children:(0,m.jsx)(r.A,{variant:"outlined",color:"success",fullWidth:!0,onClick:()=>(async e=>{window.confirm("Mark this invoice as Paid?")&&(await u.updateItem(e,{processing_step:"paid",status:"paid",payment_date:(new Date).toISOString()}),y())})(e.id),children:"Mark as Paid"})})]})})},e.id)))})]})}}}]);
//# sourceMappingURL=75182.52f8294b.chunk.js.map